# Babysitter B (Server 2)
#
# Note: registry_url/router_url/host are overridden at runtime by docker entrypoint env:
#   - BABYSITTER_HOST (for registration)
#   - REGISTRY_URL / ROUTER_URL (remote URLs)

name = "babysitter-b"
host = "0.0.0.0"
port = 8100

registry_url = "http://localhost:18000"
router_url = "http://localhost:8000"

[babysitter]
max_restarts = 10000
restart_delay = 5
heartbeat_interval = 30

[backend]
type = "command"
command = "python3"
args = [
  "/mnt/InfiniLM/python/infinilm/server/inference_server.py",
  "--cpu",
  "--model_path", "/models/model",
  "--max_tokens", "128",
  "--max_batch_size", "8",
  "--tp", "1",
  "--temperature", "1.0",
  "--top_p", "0.8",
  "--top_k", "1",
  "--host", "0.0.0.0",
  "--port", "8100",
]
work_dir = "/mnt/InfiniLM"
env = { PYTHONPATH = "/mnt/InfiniLM/python" }
